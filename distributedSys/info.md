# 分布式系统

## 需要关注的问题
- 配置管理分三层：底层和操作系统层面、中间层和中间件相关的、最上层业务系统相关的
- 了解服务之间的依赖。避免某个依赖服务挂了后，软件也挂了。服务资源隔离，服务调用的数据库也要做相应的隔离
- 防范胜于治理；监控指标要上报关键指标，发生故障后能快速恢复，能快速降低影响面

## 系统分层
排查问题困难。错误案例：从接入层到负载均衡，再到服务层，再到操作系统底层，设置的 KeepAlive 的参数完全不一致，导致用户发现，软件运行的行为和文档中定义的完全不一样。
- 基础层：iaas机器、网络、存储等
- 平台层：数据库、中间件等 tomcat、redis、mysql、kafka等
- 应用层：软件服务
- 接入层：网关、CDN、DNS、LB等

## 分布式系统的核心
- 能够处理大流量，有更高的吞吐量
- 提高系统的可用性和可靠性

## 提高性能
- 缓存系统
- 负载均衡
- 异步调用
- 数据分区
- 数据镜像

## 提高稳定性
- 服务拆分
- 服务冗余
- 限流降级
- 高可用架构
- 高可用运维

## 优秀的监控系统
- 监控用户API的调用
- 指标聚合展示（可以根据服务，找到对应的中间件和主机监控）
- trace监控，可以快速故障定位

## 基本概念
- SLA service level agreement 服务等级系统
